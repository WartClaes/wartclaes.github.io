$(function(){window.WHEELOFFORTUNE={cache:{},init:function(){this.cache.wheelMapping=[400,120,80,750,150,300,60,175,500,125,75,1e3,120,200,90,600,100,250].reverse(),this.cache.wheelSpinBtn.on("click",function(e){e.preventDefault(),$(this).hasClass("disabled")||_this.spin()}),this.resetSpin()},spin:function(){console.log("spinning wheel");var e=this;this.resetSpin(),this.cache.wheelSpinBtn.addClass("disabled");var t=1500+Math.round(1500*Math.random()),n=6e3;e.cache.wheelPos=t,this.cache.wheel.transition({rotate:"0deg"},0).transition({rotate:t+"deg"},n,"easeOutCubic"),e.cache.wheelMarker.transition({rotate:"-20deg"},0,"snap"),setTimeout(function(){e.cache.wheelMarker.transition({rotate:"0deg"},300,"easeOutQuad")},n-500),setTimeout(function(){var t=e.cache.wheelPos,n=t%360,i=n/360*100,o=Math.ceil(i/6),s=e.cache.wheelMapping[o-1];console.log("spin = "+t),console.log("degrees = "+n),console.log("percent = "+i),console.log("segment = "+o),console.log("win = "+s),setTimeout(function(){alert("you won "+s+"!")},700),e.cache.wheelSpinBtn.removeClass("disabled")},n)},resetSpin:function(){this.cache.wheel.transition({rotate:"0deg"},0),this.cache.wheelPos=0}},window.WHEELOFFORTUNE.init(),$(".wheel").wof()});